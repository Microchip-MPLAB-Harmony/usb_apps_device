<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>HID Basic Example | Harmony 3 USB Device application examples</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="HID Basic Example" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 USB Device application examples" /> <meta property="og:description" content="Harmony 3 USB Device application examples" /> <link rel="canonical" href="../../apps/hid_basic/readme.html" /> <meta property="og:url" content="../../apps/hid_basic/readme.html" /> <meta property="og:site_name" content="Harmony 3 USB Device application examples" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="HID Basic Example" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@type":"WebPage","url":"../../apps/hid_basic/readme.html","headline":"HID Basic Example","description":"Harmony 3 USB Device application examples","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../index.html" class="nav-list-link">Harmony 3 USB Device application examples</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/cdc_com_port_dual/readme.html" class="nav-list-link">CDC COM Port Dual Example</a></li><li class="nav-list-item "><a href="../../apps/cdc_com_port_single/readme.html" class="nav-list-link">CDC COM Port Single Example</a></li><li class="nav-list-item "><a href="../../apps/cdc_msd_basic/readme.html" class="nav-list-link">CDC MSD Basic Example</a></li><li class="nav-list-item "><a href="../../apps/cdc_msd_sdcard/readme.html" class="nav-list-link">CDC MSD SD Card Example</a></li><li class="nav-list-item "><a href="../../apps/cdc_serial_emulator/readme.html" class="nav-list-link">CDC Serial Emulator Example</a></li><li class="nav-list-item "><a href="../../apps/cdc_serial_emulator_msd/readme.html" class="nav-list-link">CDC Serial Emulator MSD Example</a></li><li class="nav-list-item active"><a href="../../apps/hid_basic/readme.html" class="nav-list-link active">HID Basic Example</a></li><li class="nav-list-item "><a href="../../apps/hid_basic_remote_wakeup/readme.html" class="nav-list-link">HID Basic Remote Wakeup Example</a></li><li class="nav-list-item "><a href="../../apps/hid_joystick/readme.html" class="nav-list-link">HID Joystick Example</a></li><li class="nav-list-item "><a href="../../apps/hid_keyboard/readme.html" class="nav-list-link">HID Keyboard Example</a></li><li class="nav-list-item "><a href="../../apps/hid_msd_basic/readme.html" class="nav-list-link">HID MSD Basic Example</a></li><li class="nav-list-item "><a href="../../apps/hid_mouse/readme.html" class="nav-list-link">HID Mouse Example</a></li><li class="nav-list-item "><a href="../../apps/msd_basic/readme.html" class="nav-list-link">MSD Basic Example</a></li><li class="nav-list-item "><a href="../../apps/msd_multiple_luns/readme.html" class="nav-list-link">MSD Multiple LUN Example</a></li><li class="nav-list-item "><a href="../../apps/msd_sdcard/readme.html" class="nav-list-link">MSD SD Card Example</a></li><li class="nav-list-item "><a href="../../apps/printer_basic/readme.html" class="nav-list-link">Printer Example</a></li><li class="nav-list-item "><a href="../../apps/usb_uart_bridge_dual/readme.html" class="nav-list-link">USB UART Bridge Dual Channel Example</a></li><li class="nav-list-item "><a href="../../apps/usb_uart_bridge_single/readme.html" class="nav-list-link">USB UART Bridge Single Channel Example</a></li><li class="nav-list-item "><a href="../../apps/vendor/readme.html" class="nav-list-link">Vendor Example</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 USB Device application examples" aria-label="Search Harmony 3 USB Device application examples" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../index.html">Harmony 3 USB Device application examples</a></li> <li class="breadcrumb-nav-list-item"><span>HID Basic Example</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <h1 id="hid-basic-example-hid_basic"> <a href="#hid-basic-example-hid_basic" aria-labelledby="hid-basic-example-hid_basic" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HID Basic Example (hid_basic) </h1> <p>This application demonstrates the ability of the MPLAB Harmony USB Device Stack to support custom HID device class. This custom HID device can be controlled by a PC-based utility.</p> <h2 id="description"> <a href="#description" aria-labelledby="description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description </h2> <p>This application creates a USB HID Device that enumerates as a custom USB HID device on the USB host PC. The device allows the USB Host utility to control the LEDs on the board and query the status of a switch.</p> <h2 id="downloading-and-building-the-application"> <a href="#downloading-and-building-the-application" aria-labelledby="downloading-and-building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloading and building the application </h2> <p>To clone or download this application from Github, go to the <a href="https://github.com/Microchip-MPLAB-Harmony/usb_apps_device">main page of this repository</a> and then click <strong>Clone</strong> button to clone this repository or download as zip file. This content can also be downloaded using content manager by following these <a href="https://github.com/Microchip-MPLAB-Harmony/contentmanager/wiki">instructions</a>.</p> <p>Path of the application within the repository is <a href="https://github.com/Microchip-MPLAB-Harmony/usb_apps_device/apps/hid_basic">usb_apps_device/apps/hid_basic</a>.</p> <p>Following table gives the details of project configurations, target device used, hardware and its IDE. Open the project using the respective IDE and build it.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Project Name</th> <th>IDE</th> <th>Target Device</th> <th>Hardware / Configuration</th> </tr> </thead> <tbody> <tr> <td>pic32mz_ef_sk.X</td> <td>MPLABX</td> <td>PIC32MZ2048EFH144</td> <td><a href="#config_16">PIC32MZ Embedded Connectivity with FPU (EF) Starter Kit</a></td> </tr> <tr> <td>pic32mz_ef_sk_freertos.X</td> <td>MPLABX</td> <td>PIC32MZ2048EFH144</td> <td><a href="#config_16">PIC32MZ Embedded Connectivity with FPU (EF) Starter Kit</a></td> </tr> <tr> <td>sam_9x60_ek.X</td> <td>MPLABX</td> <td>SAM9X60</td> <td><a href="#config_9">SAM9X60-EK Evaluation Board</a></td> </tr> <tr> <td>sam_9x60_ek_freertos.X</td> <td>MPLABX</td> <td>SAM9X60</td> <td><a href="#config_9">SAM9X60-EK Evaluation Board</a></td> </tr> <tr> <td>sam_9x60_ek_iar.IAR</td> <td>IAR</td> <td>SAM9X60</td> <td><a href="#config_9">SAM9X60-EK Evaluation Board</a></td> </tr> <tr> <td>sam_a5d2_xult.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_10">SAMA5D2 Xplained Ultra Board</a></td> </tr> <tr> <td>sam_a5d2_xult_freertos.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_10">SAMA5D2 Xplained Ultra Board</a></td> </tr> <tr> <td>sam_a5d2_xult_iar.IAR</td> <td>IAR</td> <td>ATSAMA5D27C</td> <td><a href="#config_10">SAMA5D2 Xplained Ultra Board</a></td> </tr> <tr> <td>sam_a5d27_som1_ek.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_18">SAMA5D27 SOM1 Kit1</a></td> </tr> <tr> <td>sam_a5d27_som1_ek_freertos.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_18">SAMA5D27 SOM1 Kit1</a></td> </tr> <tr> <td>sam_a5d27_wlsom1_ek1.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_19">ATSAMA5D27 WLSOM1 EK1</a></td> </tr> <tr> <td>sam_a5d27_wlsom1_ek1_freertos.X</td> <td>MPLABX</td> <td>ATSAMA5D27C</td> <td><a href="#config_19">ATSAMA5D27 WLSOM1 EK1</a></td> </tr> <tr> <td>sam_d11_xpro.X</td> <td>MPLABX</td> <td>ATSAMD11D14A</td> <td><a href="#config_1">SAMD11 Xplained Pro Board</a></td> </tr> <tr> <td>sam_d21_xpro.X</td> <td>MPLABX</td> <td>ATSAMD21J18A</td> <td><a href="#config_2">SAMD21 Xplained Pro Board</a></td> </tr> <tr> <td>sam_e54_xpro.X</td> <td>MPLABX</td> <td>ATSAME54P20A</td> <td><a href="#config_3">SAME54 Xplained Pro Board</a></td> </tr> <tr> <td>sam_e54_xpro_freertos.X</td> <td>MPLABX</td> <td>ATSAME54P20A</td> <td><a href="#config_3">SAME54 Xplained Pro Board</a></td> </tr> <tr> <td>sam_e70_xult.X</td> <td>MPLABX</td> <td>ATSAME70Q21B</td> <td><a href="#config_4">SAME70 Xplained Ultra Board</a></td> </tr> <tr> <td>sam_e70_xult_freertos.X</td> <td>MPLABX</td> <td>ATSAME70Q21B</td> <td><a href="#config_4">SAME70 Xplained Ultra Board</a></td> </tr> <tr> <td>sam_g55_xpro.X</td> <td>MPLABX</td> <td>ATSAMG55J19</td> <td><a href="#config_6">SAMG55 Xplained Pro Board</a></td> </tr> <tr> <td>pic32mz_ef_curiosity_2_0.X</td> <td>MPLABX</td> <td>PIC32MZ2048EFM144</td> <td><a href="#config_7">Curiosity PIC32MZ EF 2.0 Development Board</a></td> </tr> <tr> <td>pic32mx470_curiosity.X</td> <td>MPLABX</td> <td>PIC32MX470F512H</td> <td><a href="#config_13">PIC32MX Curiosity Development Board</a></td> </tr> <tr> <td>pic32mm_usb_curiosity.X</td> <td>MPLABX</td> <td>PIC32MM0256GPM064</td> <td><a href="#config_20">PIC32MM USB Curiosity Development Board</a></td> </tr> </tbody> </table></div> <h2 id="-configuring-the-hardware"> <a href="#-configuring-the-hardware" aria-labelledby="-configuring-the-hardware" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_title"></a> Configuring the Hardware </h2> <h3 id="-pic32mz-embedded-connectivity-with-fpu-ef-starter-kit"> <a href="#-pic32mz-embedded-connectivity-with-fpu-ef-starter-kit" aria-labelledby="-pic32mz-embedded-connectivity-with-fpu-ef-starter-kit" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_16"></a> <a href="https://www.microchip.com/Developmenttools/ProductDetails/DM320007">PIC32MZ Embedded Connectivity with FPU (EF) Starter Kit</a> </h3> <ul> <li>Use the micro-A/B port J4 (which is located on the bottom side of the board) to connect the USB Device to the USB Host PC.</li> <li>LED1 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW1 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-pic32mm-usb-curiosity-development-board"> <a href="#-pic32mm-usb-curiosity-development-board" aria-labelledby="-pic32mm-usb-curiosity-development-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_20"></a> <a href="https://www.microchip.com/en-us/development-tool/dm320107">PIC32MM USB Curiosity Development Board</a> </h3> <ul> <li>Use the micro-B USB connector USB2 on the board to connect the USB Device to the USB Host PC.</li> <li>LED1 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host).</li> <li>Press the switch S1 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-sam9x60-ek-evaluation-board"> <a href="#-sam9x60-ek-evaluation-board" aria-labelledby="-sam9x60-ek-evaluation-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_9"></a> <a href="https://www.microchip.com/developmenttools/ProductDetails/DT100126">SAM9X60-EK Evaluation Board</a> </h3> <ul> <li>Setup the SD card <ul> <li>Download harmony MPU bootstrap loader from this <a href="firmware/at91bootstrap_sam_9x60_ek.X/binaries/boot.bin">location</a>.</li> <li>Copy the downloaded boot loader binary (boot.bin) and generated application binary (harmony.bin) into the SD card.</li> <li>Insert the SD card into the SDMMC connector J4 on the board.</li> <li>Reset the board by pressing the Push Button SW3.</li> </ul> </li> <li>Jumpers J20, J21, and J13 must be open.</li> <li>Jumper J2 and J3 must be shorted.</li> <li>Connect the USB Micro-B port J22 on board to the computer using a micro USB cable (to enable the debug com port).</li> <li>Connect the USB Micro-B Connector (J7) on the board to the computer using a micro USB cable.</li> <li>LED D1 indicates USB Device Configuration Set Complete event (The USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li> <p>Press the switch SW1 to trigger communication from the USB Device to the USB Host. <img src="../../apps/hid_basic/images/sam9x60_evk.png" alt="SAM9X60-EK Evaluation Board" /></p> <p><strong>Note: Reset push button on SAM9X60 EK is labeled as SW3</strong></p> </li> </ul> <h3 id="-sama5d2-xplained-ultra-board"> <a href="#-sama5d2-xplained-ultra-board" aria-labelledby="-sama5d2-xplained-ultra-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_10"></a> <a href="https://www.microchip.com/Developmenttools/ProductDetails/ATSAMA5D2C-XULT">SAMA5D2 Xplained Ultra Board</a> </h3> <ul> <li>Setup the SD card <ul> <li>Download harmony MPU bootstrap loader from this <a href="firmware/at91bootstrap_sam_a5d2_xult.X/binaries/boot.bin">location</a>.</li> <li>Copy the downloaded boot loader binary (boot.bin) and generated application binary (harmony.bin) into the SD card.</li> <li>Insert the SD card into the SDMMC1 slot on the board.</li> <li>Reset the board by pressing the Push Button BP3.</li> </ul> </li> <li>Short jumper JP2(DEBUG_DIS).</li> <li>Connect the EDBG USB Micro-B port J14 on the board to the computer using a micro USB cable.</li> <li>Use the “A5-USB-A” connector (J23 - Micro A/B connector) on the board to connect the USB device to the USB Host.</li> <li>RGB LED turning to Green indicates USB Device Configuration Set Complete event (The USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press PB_USER Switch to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-sama5d27-som1-kit1"> <a href="#-sama5d27-som1-kit1" aria-labelledby="-sama5d27-som1-kit1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_18"></a> <a href="https://www.microchip.com/developmenttools/ProductDetails/atsama5d27-som1-ek1">SAMA5D27 SOM1 Kit1</a> </h3> <ul> <li>Setup the SD card <ul> <li>Download harmony MPU bootstrap loader from this <a href="firmware/at91bootstrap_sam_a5d27_som1_ek.X/binaries/boot.bin">location</a>.</li> <li>Copy the downloaded boot loader binary (boot.bin) and generated application binary (harmony.bin) into the SD card.</li> <li>Insert the SD card into the SDMMC0 slot (J12) on the board.</li> <li>Reset the board by pressing the Push Button PB1.</li> </ul> </li> <li>Connect the Debug USB port (J10) on the board to the computer using a micro USB cable.</li> <li>Connect the USB Micro-B Connector (J17) on the board to the computer using a micro USB cable.</li> <li>RGB LED turning to Green indicates USB Device Configuration Set Complete event (The USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the pushbutton PB4 to trigger communication from the USB Device to the USB Host. <img src="../../apps/hid_basic/images/SAMA5D2_SOM1_EK_USB.png" alt="SAM9X60-EK Evaluation Board" /></li> </ul> <h3 id="-atsama5d27-wlsom1-evaluation-kit-"> <a href="#-atsama5d27-wlsom1-evaluation-kit-" aria-labelledby="-atsama5d27-wlsom1-evaluation-kit-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_19"></a> <a href="https://www.microchip.com/DevelopmentTools/ProductDetails/PartNO/DM320117">ATSAMA5D27-WLSOM1 Evaluation Kit </a> </h3> <ul> <li>Setup the SD card <ul> <li>Download harmony MPU bootstrap loader from this <a href="firmware/at91bootstrap_sam_a5d27_wlsom1_ek1.X/binaries/boot.bin">location</a>.</li> <li>Copy the downloaded boot loader binary (boot.bin) and generated application binary (harmony.bin) into the SD card.</li> <li>Insert the SD card into the SDMMC0 Card Connector (J9) on the board.</li> <li>Reset the board by pressing the Reset Button (SW2)</li> </ul> </li> <li>Connect the USB-A MicroAB connector (J10) on the board to the computer using a micro USB cable.</li> <li>Press the “START_SOM” button to activate board start-up.</li> <li>RGB LED turning to Green indicates USB Device Configuration Set Complete event (The USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the pushbutton SW4 to trigger communication from the USB Device to the USB Host. <img src="../../apps/hid_basic/images/SAMA5D2_WLSOM1_EK_USB.png" alt="SAM9X60-EK Evaluation Board" /></li> </ul> <h3 id="-samd11-xplained-pro-board"> <a href="#-samd11-xplained-pro-board" aria-labelledby="-samd11-xplained-pro-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_1"></a> <a href="https://www.microchip.com/developmenttools/ProductDetails/atsamd11-xpro">SAMD11 Xplained Pro Board</a> </h3> <ul> <li>Use TARGET USB connector on the board to connect the USB Device to the USB Host PC.</li> <li>LED0 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW0 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-samd21-xplained-pro-board"> <a href="#-samd21-xplained-pro-board" aria-labelledby="-samd21-xplained-pro-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_2"></a> <a href="https://www.microchip.com/developmenttools/ProductDetails/atsamd21-xpro">SAMD21 Xplained Pro Board</a> </h3> <ul> <li>Use TARGET USB connector on the board to connect the USB Device to the USB Host PC.</li> <li>LED0 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW0 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-same54-xplained-pro-board"> <a href="#-same54-xplained-pro-board" aria-labelledby="-same54-xplained-pro-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_3"></a> <a href="https://www.microchip.com/developmenttools/productdetails/atsame54-xpro">SAME54 Xplained Pro Board</a> </h3> <ul> <li>Use TARGET USB connector on the board to connect the USB Device to the USB Host PC.</li> <li>LED0 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW0 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-same70-xplained-ultra-board"> <a href="#-same70-xplained-ultra-board" aria-labelledby="-same70-xplained-ultra-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_4"></a> <a href="https://www.microchip.com/DevelopmentTools/ProductDetails/PartNO/DM320113">SAME70 Xplained Ultra Board</a> </h3> <ul> <li>Jumper J203 must be shorted between PB08 and VBUS (positions 2 and 3).</li> <li>Use TARGET USB J200 connector on the board to connect the USB Device to the USB Host PC.</li> <li>LED3 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW1 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-samg55-xplained-pro-board"> <a href="#-samg55-xplained-pro-board" aria-labelledby="-samg55-xplained-pro-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_6"></a> <a href="https://www.microchip.com/DevelopmentTools/ProductDetails/PartNO/ATSAMG55-XPRO">SAMG55 Xplained Pro Board</a> </h3> <ul> <li>Use TARGET USB connector on the board to connect the USB Device to the USB Host PC.</li> <li>LED0 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW0 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-curiosity-pic32mz-ef-20-development-board"> <a href="#-curiosity-pic32mz-ef-20-development-board" aria-labelledby="-curiosity-pic32mz-ef-20-development-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_7"></a> <a href="https://www.microchip.com/Developmenttools/ProductDetails/DM320209">Curiosity PIC32MZ EF 2.0 Development Board</a> </h3> <ul> <li>Use the USB micro-B port J201 to connect the USB Device to the USB Host PC.</li> <li>LED1 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host). The LED is turned off when the Bus is suspended.</li> <li>Press the switch SW1 to trigger communication from the USB Device to the USB Host.</li> </ul> <h3 id="-curiosity-pic32mx470-development-board"> <a href="#-curiosity-pic32mx470-development-board" aria-labelledby="-curiosity-pic32mx470-development-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a name="config_13"></a> <a href="https://www.microchip.com/Developmenttools/ProductDetails/dm320103">Curiosity PIC32MX470 Development Board</a> </h3> <ul> <li>Use the USB micro-B port J12 to connect the USB Device to the USB Host PC.</li> <li>LED1 indicates USB Device Configuration Set Complete event (the USB device functionality has been activated by the USB Host).</li> <li>Press the switch S1 to trigger communication from the USB Device to the USB Host.</li> </ul> <h2 id="running-the-application"> <a href="#running-the-application" aria-labelledby="running-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Application </h2> <p>This demonstration uses the selected hardware platform as a HID class USB device, but uses the HID class for general purpose I/O operations. Open the project with appropriate IDE. Compile the project and program the target device.</p> <p>Typically, the HID class is used to implement human interface products, such as mice and keyboards. The HID protocol, is however, quite flexible, and can be adapted and used to send/receive general purpose data to/from a USB device. Using the HID class for general purpose I/O operations is quite advantageous, in that it does not require any kind of custom driver installation process. HID class drivers are already provided by and are distributed with common operating systems. Therefore, upon plugging in a HID class device into a typical computer system, no user installation of drivers is required, the installation is fully automatic.</p> <p>The LEDs on the demonstration board will indicate the USB state of the device as described in Configuring the Hardware section.</p> <p>HID devices primarily communicate through one interrupt IN endpoint and one interrupt OUT endpoint. In most applications, this effectively limits the maximum achievable bandwidth for full speed HID devices to 64 kBytes/s of IN traffic, and 64 kBytes/s of OUT traffic (64 kB/s, but effectively “full duplex”).</p> <p>The <em>GenericHIDSimpleDemo.exe</em> program, and the associated firmware demonstrate how to use the HID protocol for basic general purpose USB data transfer.</p> <p>Before you can run the <em>GenericHIDSimpleDemo.exe</em> executable, you will need to have the Microsoft® .NET Framework Version 2.0 Redistributable Package (later versions are probably acceptable, but have not been tested) installed on your computer. Programs that were built in the Visual Studio® .NET languages require the .NET redistributable package. The redistributable package can be freely downloaded from Microsoft’s website. Users of Windows Vista® operating systems will not need to install the .NET framework, as it comes preinstalled as part of the operating system.</p> <h3 id="launching-the-application"> <a href="#launching-the-application" aria-labelledby="launching-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Launching the Application </h3> <p>To launch the application, open the executable <em>GenericHIDSimpleDemo.exe</em> from the folder path <strong><em>usb_apps_device/apps/hid_basic/bin/GenericHIDSimpleDemo.exe</em></strong>. A UI similar to the following should appear:</p> <p><img src="../../apps/hid_basic/images/hid_basic_figure_1.png" alt="Form1" /></p> <p><strong>Note:</strong> If instead of this window, an error message appears while trying to launch the application, it is likely the Microsoft .NET Framework Version 2.0 Redistributable Package has not yet been installed. Please install it and try again.</p> <h3 id="sendreceive-packets"> <a href="#sendreceive-packets" aria-labelledby="sendreceive-packets" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Send/Receive Packets </h3> <p>To begin sending/receiving packets to the device, you must first find and connect to the device. As configured by default, the application is looking for HID class USB devices with VID = 0x04D8 and PID = 0x003F. The device descriptor in the firmware project meant to be used with this demonstration uses the same VID/PID. If you plug in a USB device programmed with the correct precompiled .hex file, and click <strong>Connect</strong>, the other push buttons should become enabled. If clicking <strong>Connect</strong> has no effect, it is likely the USB device is either not connected, or has not been programmed with the correct firmware.</p> <p>Clicking <strong>Toggle LED(s)</strong> should send a single packet of general purpose generic data to the HID class USB peripheral device. The data will arrive on the interrupt OUT endpoint. The firmware has been configured to receive this generic data packet, parse the packet looking for the Toggle LED(s) command, and should respond appropriately by controlling the LED(s) on the demonstration board.</p> <p>The Get Pushbutton State option will send one packet of data over the USB to the peripheral device (to the interrupt OUT endpoint) requesting the current push button state. The firmware will process the received Get Pushbutton State command, and will prepare an appropriate response packet depending upon the pushbutton state.</p> <p>Refer to the <a href="#config_title">Configuring the Hardware</a> section for details on the LED indication and Switch, that are relevant to the selected hardware.</p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
